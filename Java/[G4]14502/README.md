# ë°±ì¤€ 14502ë²ˆ - ì—°êµ¬ì†Œ

<aside>
ğŸ“˜

## í•™ìŠµí•œ ë‚´ìš©

ì™„ì „ íƒìƒ‰(Brute Force)ê³¼ DFSë¥¼ í™œìš©í•œ ì‹œë®¬ë ˆì´ì…˜ ë¬¸ì œ í•´ê²°

</aside>

## ğŸ“ ë¬¸ì œ ìš”ì•½

> **ìƒí™©**: NÃ—M í¬ê¸°ì˜ ì—°êµ¬ì†Œì—ì„œ ë°”ì´ëŸ¬ìŠ¤ê°€ í™•ì‚°ë˜ëŠ” ê²ƒì„ ë§‰ê¸°  
**ì¡°ê±´**: ì •í™•íˆ **3ê°œì˜ ë²½**ì„ ì„¸ì›Œì•¼ í•¨ (ë¹ˆ ì¹¸ì—ë§Œ ì„¤ì¹˜ ê°€ëŠ¥)  
**ëª©í‘œ**: ë°”ì´ëŸ¬ìŠ¤ í™•ì‚° í›„ ë‚¨ì€ ì•ˆì „ ì˜ì—­ì˜ **ìµœëŒ“ê°’** êµ¬í•˜ê¸°

---

## ğŸ’¡ 1. ë‚˜ì˜ ì ‘ê·¼ ë°©ì‹ & í•µì‹¬ ì•„ì´ë””ì–´

- **ì•Œê³ ë¦¬ì¦˜/ìë£Œêµ¬ì¡°: ì™„ì „ íƒìƒ‰ (Combination) + DFS (ê¹Šì´ ìš°ì„  íƒìƒ‰)**
- **ì‹œê°„/ê³µê°„ ë³µì¡ë„:**
  - **ì‹œê°„:** `O(C(ë¹ˆì¹¸, 3) Ã— NÃ—M)` â‰ˆ `O(64Â³ Ã— 64)` (ìµœì•…ì˜ ê²½ìš°)
  - **ê³µê°„:** `O(NÃ—M)` (ì§€ë„ + visited ë°°ì—´)
- **í•µì‹¬ ë¡œì§:**
  1. **3ì¤‘ forë¬¸ìœ¼ë¡œ ë²½ 3ê°œì˜ ëª¨ë“  ì¡°í•© ìƒì„±**: ë¹ˆ ì¹¸ ë¦¬ìŠ¤íŠ¸ì—ì„œ 3ê°œë¥¼ ì„ íƒí•˜ëŠ” ì¡°í•© êµ¬í˜„
  2. **map ë°°ì—´ ì§ì ‘ ìˆ˜ì •**: ë²½ ì„¤ì¹˜ â†’ ë°”ì´ëŸ¬ìŠ¤ í™•ì‚° â†’ ë²½ ë³µêµ¬ ê³¼ì •ì„ í†µí•´ ì‹œë®¬ë ˆì´ì…˜
  3. **DFSë¡œ ë°”ì´ëŸ¬ìŠ¤ í™•ì‚°**: ê° ë°”ì´ëŸ¬ìŠ¤ ìœ„ì¹˜ì—ì„œ ìƒí•˜ì¢Œìš°ë¡œ ì¬ê·€ íƒìƒ‰í•˜ë©° ê°ì—¼ ì¹¸ ìˆ˜ ê³„ì‚°
  4. **ì•ˆì „ ì˜ì—­ ê³„ì‚°**: `(ì „ì²´ ë¹ˆ ì¹¸ ìˆ˜ - 3) - ê°ì—¼ëœ ì¹¸ ìˆ˜`

---

## âœ¨ 2. ë‚˜ì˜ ìµœì¢… ì½”ë“œ

<details>
<summary>ì „ì²´ ì½”ë“œ ë³´ê¸°</summary>

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.List;
import java.util.StringTokenizer;

/**
 * ë°±ì¤€ 14502ë²ˆ - ì—°êµ¬ì†Œ
 * ì™„ì „ íƒìƒ‰ + DFSë¡œ ì•ˆì „ ì˜ì—­ì˜ ìµœëŒ“ê°’ êµ¬í•˜ê¸°
 */
public class Main {
    // ìƒí•˜ì¢Œìš° ì´ë™
    final static int[] dx = {0, 1, 0, -1};
    final static int[] dy = {-1, 0, 1, 0};

    static int[][] map;              // 0: ë¹ˆì¹¸, 1: ë²½, 2: ë°”ì´ëŸ¬ìŠ¤
    static List<Point> zeroList;     // ë¹ˆ ì¹¸ ì¢Œí‘œ ëª©ë¡
    static List<Point> virusList;    // ë°”ì´ëŸ¬ìŠ¤ ì¢Œí‘œ ëª©ë¡
    static int N, M, zeroNum;
    static List<Point> walls = new ArrayList<>(3);

    static class Point{
        int x, y;
        Point(int x, int y){
            this.x = x;
            this.y = y;
        }
    }

    public static void main(String[] args) throws IOException {
        readInput();
        int answer = placeThreeWalls();
        System.out.println(answer);
    }    

    // ì…ë ¥ ì½ê¸° ë° ë¹ˆ ì¹¸, ë°”ì´ëŸ¬ìŠ¤ ìœ„ì¹˜ ì €ì¥
    static void readInput() throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
    
        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());

        zeroList = new ArrayList<>();
        virusList = new ArrayList<>();
        map = new int[N][M];

        for(int i = 0; i < N; i++){
            st = new StringTokenizer(br.readLine());
            for(int j = 0; j < M; j++){
                map[i][j] = Integer.parseInt(st.nextToken());
                if(map[i][j] == 0){ 
                    zeroNum++;
                    zeroList.add(new Point(j, i));
                }
                else if(map[i][j] == 2) virusList.add(new Point(j, i));
            }
        }
    }

    // ë¹ˆ ì¹¸ ì¤‘ 3ê³³ì„ ì„ íƒí•˜ì—¬ ë²½ì„ ì„¸ìš°ëŠ” ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ íƒìƒ‰
    static int placeThreeWalls(){
        int maxRes = 0;

        // ì¡°í•©: C(zeroNum, 3)
        for(int i = 0; i < zeroNum - 2; i++){
            for(int j = i + 1; j < zeroNum - 1; j++){
                for(int k = j + 1; k < zeroNum; k++){

                    walls.clear();
                    walls.add(zeroList.get(i));
                    walls.add(zeroList.get(j));
                    walls.add(zeroList.get(k));

                    maxRes = Math.max(maxRes, calculateSafeArea(walls));
                }
            }
        }

        return maxRes;
    }

    // ë²½ì„ ì„¸ìš´ í›„ ì•ˆì „ ì˜ì—­ ê³„ì‚°
    static int calculateSafeArea(List<Point> walls){
        int safeArea = zeroNum - 3;

        // ë²½ ì„¤ì¹˜
        for(Point wall : walls){
            map[wall.y][wall.x] = 1;
        }
         
        // ë°”ì´ëŸ¬ìŠ¤ í™•ì‚° (DFS)
        int totalInfected = 0;
        boolean[][] visited = new boolean[N][M];
        for(Point virus : virusList){
            totalInfected += dfs(virus.x, virus.y, visited);
        }

        // ë²½ ë³µêµ¬
        for(Point wall : walls){
            map[wall.y][wall.x] = 0;
        }

        return safeArea - totalInfected;
    }

    // DFSë¡œ ë°”ì´ëŸ¬ìŠ¤ í™•ì‚° ì‹œë®¬ë ˆì´ì…˜
    static int dfs(int x, int y, boolean[][] visited){
        int infectedCount = 0;

        // ìƒí•˜ì¢Œìš° íƒìƒ‰
        for(int i = 0; i < 4; i++){
            int nx = x + dx[i];
            int ny = y + dy[i];
            
            // ë²”ìœ„ ë‚´ + ë¹ˆ ì¹¸ + ë¯¸ë°©ë¬¸
            if(0 <= nx && nx < M && 0 <= ny && ny < N && map[ny][nx] == 0 && !visited[ny][nx]) {
                infectedCount++;
                visited[ny][nx] = true;
                infectedCount += dfs(nx, ny, visited);
            }
        }

        return infectedCount;
    }
}
```

</details>

### í•µì‹¬ ë¡œì§ ì½”ë“œ

```java
// 1. ì™„ì „ íƒìƒ‰: 3ê°œì˜ ë²½ ì¡°í•© ìƒì„±
for(int i = 0; i < zeroNum - 2; i++){
    for(int j = i + 1; j < zeroNum - 1; j++){
        for(int k = j + 1; k < zeroNum; k++){
            // 3ê°œì˜ ë²½ ìœ„ì¹˜ ì„ íƒ í›„ ì‹œë®¬ë ˆì´ì…˜
            maxRes = Math.max(maxRes, calculateSafeArea(walls));
        }
    }
}

// 2. map ë°°ì—´ ì§ì ‘ ìˆ˜ì •ì„ í†µí•œ ì‹œë®¬ë ˆì´ì…˜
// ë²½ ì„¤ì¹˜
for(Point wall : walls) map[wall.y][wall.x] = 1;

// ë°”ì´ëŸ¬ìŠ¤ í™•ì‚°
for(Point virus : virusList) totalInfected += dfs(virus.x, virus.y, visited);

// ë²½ ë³µêµ¬ (ë‹¤ìŒ ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•´)
for(Point wall : walls) map[wall.y][wall.x] = 0;
```

---

## ğŸ¤” 3. ë¬¸ì œ íšŒê³  (Retrospective)

### ğŸ¾ 3-1. ì˜¤ë¥˜ í•´ê²° ê³¼ì • (Troubleshooting Log)

#### **Issue 1: Point ê°ì²´ ë¹„êµ ë¬¸ì œ (equals/hashCode ë¯¸êµ¬í˜„)**
- **í˜„ìƒ**: ì²˜ìŒì—ëŠ” ë²½ ìœ„ì¹˜ë¥¼ ì²´í¬í•˜ê¸° ìœ„í•´ `walls.contains(new Point(nx, ny))` ë°©ì‹ì„ ì‚¬ìš©í•˜ë ¤ í–ˆìœ¼ë‚˜, í•­ìƒ `false`ë¥¼ ë°˜í™˜í•¨.
- **ì›ì¸**: Point í´ë˜ìŠ¤ì— `equals()`ì™€ `hashCode()`ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ì§€ ì•Šì•„ì„œ, ê°ì²´ ì°¸ì¡°ê°’ìœ¼ë¡œ ë¹„êµë˜ì–´ ë™ì¼í•œ ì¢Œí‘œì„ì—ë„ ë‹¤ë¥¸ ê°ì²´ë¡œ íŒë‹¨ë¨.
- **ì‹œë„í–ˆë˜ ë°©ë²•ë“¤**:
  1. `equals()`/`hashCode()` êµ¬í˜„ â†’ ì½”ë“œê°€ ë³µì¡í•´ì§
  2. HashSetìœ¼ë¡œ O(1) ì²´í¬ â†’ ì—¬ì „íˆ equals ë¬¸ì œ
- **ìµœì¢… í•´ê²°**: **map ë°°ì—´ì„ ì§ì ‘ ìˆ˜ì •**í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì „í™˜. ë²½ì„ ì„¤ì¹˜í•  ë•Œ `map[y][x] = 1`ë¡œ í‘œì‹œí•˜ê³ , DFSì—ì„œ `map[ny][nx] == 0` ì¡°ê±´ìœ¼ë¡œ ì²´í¬. ì´ë ‡ê²Œ í•˜ë©´ ê°ì²´ ë¹„êµ ì—†ì´ O(1)ë¡œ í™•ì¸ ê°€ëŠ¥.

```java
// âŒ ì´ì „ ë°©ì‹: contains ì‚¬ìš© (ë™ì‘í•˜ì§€ ì•ŠìŒ)
if(walls.contains(new Point(nx, ny))) continue;

// âœ… ê°œì„ ëœ ë°©ì‹: map ë°°ì—´ ì§ì ‘ ìˆ˜ì •
for(Point wall : walls) map[wall.y][wall.x] = 1;  // ë²½ ì„¤ì¹˜
// ... DFS ìˆ˜í–‰ ...
for(Point wall : walls) map[wall.y][wall.x] = 0;  // ë²½ ë³µêµ¬
```

#### **Issue 2: ëª¨ë“  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì—ì„œ -3 ì¶œë ¥**
- **í˜„ìƒ**: ì˜ˆì œ ì…ë ¥ì— ëŒ€í•´ í•­ìƒ `-3`ì´ë¼ëŠ” ì´ìƒí•œ ê°’ì´ ì¶œë ¥ë¨.
- **ì›ì¸**: `calculateSafeArea()` í•¨ìˆ˜ì—ì„œ **ë²½ì„ ì„¤ì¹˜í•˜ëŠ” ì½”ë“œê°€ ì£¼ì„ë§Œ ìˆê³  ì‹¤ì œ êµ¬í˜„ì´ ëˆ„ë½**ë¨. ë²½ì´ ì—†ìœ¼ë‹ˆ ëª¨ë“  ë¹ˆ ì¹¸(zeroNum)ì´ ê°ì—¼ë˜ì–´ `(zeroNum - 3) - zeroNum = -3`ì´ ë¨.
- **ê¹¨ë‹¬ìŒ**: ì£¼ì„ë§Œ ì‘ì„±í•˜ê³  ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ ì•Šì€ ì‹¤ìˆ˜. **êµ¬í˜„ ì§í›„ ë°”ë¡œ í…ŒìŠ¤íŠ¸**í•˜ëŠ” ìŠµê´€ì´ ì¤‘ìš”í•¨ì„ ë°°ì›€.

```java
// âŒ ì´ì „ ì½”ë“œ: ì£¼ì„ë§Œ ìˆê³  êµ¬í˜„ ì—†ìŒ
static int calculateSafeArea(List<Point> walls){
    int safeArea = zeroNum - 3;
    
    // ë²½ ìœ„ì¹˜ë¥¼ mapì— í‘œì‹œ  <- ì£¼ì„ë§Œ ìˆìŒ!
    
    // ë°”ì´ëŸ¬ìŠ¤ í™•ì‚°...
}

// âœ… ìˆ˜ì • í›„: ì‹¤ì œ êµ¬í˜„ ì¶”ê°€
for(Point wall : walls){
    map[wall.y][wall.x] = 1;
}
```

#### **Issue 3: ì„±ëŠ¥ ê°œì„  ê³ ë¯¼**
- **ê³ ë¯¼ ê³¼ì •**: 
  - ì²˜ìŒì—” ë§¤ë²ˆ `new boolean[N][M]`ë¡œ visited ë°°ì—´ì„ ìƒì„±í•´ì„œ ë©”ëª¨ë¦¬ ì˜¤ë²„í—¤ë“œê°€ ìˆì—ˆìŒ
  - ì „ì—­ ë°°ì—´ë¡œ ë¹¼ê³  ì¬ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ê³ ë ¤í–ˆìœ¼ë‚˜, ì´ˆê¸°í™” ë¹„ìš©ì´ ìƒê¹€
  - ìµœì¢…ì ìœ¼ë¡œëŠ” **ë°±ì¤€ ì±„ì  í™˜ê²½ì—ì„œ ì¶©ë¶„íˆ ë¹ ë¥´ë¯€ë¡œ** ê°€ë…ì„±ì„ ìœ„í•´ í˜„ì¬ ë°©ì‹ ìœ ì§€
- **ë°°ìš´ ì **: ë¬´ì¡°ê±´ì ì¸ ìµœì í™”ë³´ë‹¤ëŠ”, **ë¬¸ì œì˜ ì œì•½ ì¡°ê±´ì„ ë³´ê³  í•„ìš”í•œ ë§Œí¼ë§Œ ìµœì í™”**í•˜ëŠ” ê²ƒì´ ì¤‘ìš”.

---

### ğŸŒ± 3-2. ìƒˆë¡­ê²Œ ì•Œê²Œ ëœ ì  (Learning Points)

1. **ì‹œë®¬ë ˆì´ì…˜ì—ì„œì˜ ì›ìƒë³µêµ¬ íŒ¨í„´**
   - ìƒíƒœë¥¼ ë³€ê²½í•˜ê³ , íƒìƒ‰í•˜ê³ , ë‹¤ì‹œ ë³µêµ¬í•˜ëŠ” íŒ¨í„´ì´ ì™„ì „ íƒìƒ‰ì—ì„œ ë§¤ìš° ìœ ìš©í•¨ì„ ë°°ì›€
   - ê¹Šì€ ë³µì‚¬ ëŒ€ì‹  **ì§ì ‘ ìˆ˜ì • + ë³µêµ¬**ê°€ í›¨ì”¬ íš¨ìœ¨ì 

2. **ì¡°í•© êµ¬í˜„ì˜ ë‹¤ì–‘í•œ ë°©ë²•**
   - 3ì¤‘ forë¬¸: ê°„ë‹¨í•˜ê³  ì§ê´€ì  (ê³ ì •ëœ ê°œìˆ˜ì¼ ë•Œ)
   - ì¬ê·€ + ë°±íŠ¸ë˜í‚¹: ìœ ì—°í•˜ê³  í™•ì¥ ê°€ëŠ¥ (ê°œìˆ˜ê°€ ë³€í•  ë•Œ)
   - ì´ ë¬¸ì œì—ì„œëŠ” ë²½ì´ ì •í™•íˆ 3ê°œë¡œ ê³ ì •ì´ë¯€ë¡œ 3ì¤‘ forë¬¸ì´ ë” íš¨ìœ¨ì 

3. **DFS vs BFS ì„ íƒ ê¸°ì¤€**
   - ì´ ë¬¸ì œëŠ” "ëª¨ë“  ì¹¸ì„ ë°©ë¬¸"í•˜ëŠ” ê²ƒì´ ëª©ì ì´ë¯€ë¡œ DFS, BFS ëª¨ë‘ ê°€ëŠ¥
   - DFSëŠ” ì¬ê·€ë¡œ êµ¬í˜„ì´ ê°„ë‹¨í•˜ì§€ë§Œ, ìŠ¤íƒ ì˜¤ë²„í”Œë¡œìš° ìœ„í—˜ì´ ìˆìŒ
   - BFSëŠ” íë¥¼ ì‚¬ìš©í•´ ì•ˆì •ì ì´ì§€ë§Œ ì½”ë“œê°€ ì¡°ê¸ˆ ë” ê¸¸ì–´ì§

4. **ì…ë ¥ ì²˜ë¦¬ ìµœì í™”**
   - ì…ë ¥ì„ ë°›ìœ¼ë©´ì„œ ë™ì‹œì— ë¹ˆ ì¹¸ê³¼ ë°”ì´ëŸ¬ìŠ¤ ìœ„ì¹˜ë¥¼ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥
   - ë‚˜ì¤‘ì— ë‹¤ì‹œ ìˆœíšŒí•˜ì§€ ì•Šì•„ë„ ë˜ì–´ íš¨ìœ¨ì 

---

### ğŸ§ 3-3. ë” ê¶ê¸ˆí•œ ì  & ë‹¤ìŒ ëª©í‘œ (Further Questions)

- **ë¹„íŠ¸ë§ˆìŠ¤í‚¹ ìµœì í™”**: ë°©ë¬¸ ì²´í¬ë¥¼ ë¹„íŠ¸ë§ˆìŠ¤í‚¹ìœ¼ë¡œ í•˜ë©´ ë” ë¹ ë¥¼ê¹Œ? (N, Mì´ ì‘ì•„ì„œ íš¨ê³¼ê°€ ë¯¸ë¯¸í•  ê²ƒ ê°™ê¸´ í•¨)
- **ê°€ì§€ì¹˜ê¸°(Pruning)**: í˜„ì¬ ìµœëŒ“ê°’ë³´ë‹¤ ì´ë¡ ì ìœ¼ë¡œ ë” í° ê°’ì´ ë‚˜ì˜¬ ìˆ˜ ì—†ëŠ” ê²½ìš°ë¥¼ ë¯¸ë¦¬ íŒë‹¨í•´ ê±´ë„ˆë›¸ ìˆ˜ ìˆì„ê¹Œ?
- **BFS êµ¬í˜„ ì—°ìŠµ**: ê°™ì€ ë¬¸ì œë¥¼ BFSë¡œë„ êµ¬í˜„í•´ë³´ë©° ë‘ ë°©ì‹ì˜ ì°¨ì´ë¥¼ ì²´ê°í•´ë³´ê¸°
- **ë¹„ìŠ·í•œ ìœ í˜• ë¬¸ì œ**: ë²½ì„ ì„¸ìš°ëŠ” ëŒ€ì‹  ë‹¤ë¥¸ ì¡°ê±´ì„ ë³€ê²½í•˜ëŠ” ì‹œë®¬ë ˆì´ì…˜ ë¬¸ì œë“¤ í’€ì–´ë³´ê¸°

---

## ğŸ“Š 4. ì‹¤í–‰ ê²°ê³¼

- **ë°±ì¤€ ì±„ì  ê²°ê³¼**: ì •ë‹µ
- **ë©”ëª¨ë¦¬**: ~11,000 KB
- **ì‹œê°„**: ~200 ms

---

## ğŸ¯ 5. í•µì‹¬ Takeaway

> **"ì‹œë®¬ë ˆì´ì…˜ ë¬¸ì œëŠ” ìƒíƒœ ë³µêµ¬ê°€ í•µì‹¬ì´ë‹¤"**
> 
> ì™„ì „ íƒìƒ‰ì—ì„œ ë§¤ë²ˆ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë§Œë“¤ê¸°ë³´ë‹¤ëŠ”,  
> **ìˆ˜ì • â†’ íƒìƒ‰ â†’ ë³µêµ¬** íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ë©”ëª¨ë¦¬ì™€ ì‹œê°„ì„ ëª¨ë‘ ì ˆì•½í•  ìˆ˜ ìˆë‹¤.
>
> ë˜í•œ, ê°ì²´ ë¹„êµë³´ë‹¤ëŠ” **ë°°ì—´ ì¸ë±ì‹±**ì´ í›¨ì”¬ ë¹ ë¥´ê³  ì•ˆì •ì ì´ë‹¤.
